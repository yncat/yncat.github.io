---
layout: post
tags: game
---

# 3行で

「カブトクワガタ」に搭載されている読み上げ機能によって、画面を見ることができない全盲のプレイヤーがゲームを楽しめるようになっています。

視覚に障害を持つプレイヤーだけでなく、未就学児や、文字を読むことに困難を抱える人など、色々な属性の人がプレイできるようになっていると思います。

システム面・技術面の両方において、「カブトクワガタ」は日本のゲームアクセシビリティに革命をもたらすポテンシャルがあり、その事実が、開発者を含めた多くの人に知られることを臨みます。

※最終更新: 2023/07/27

# カブトクワガタってなんやねん

[カブトクワガタ](https://store-jp.nintendo.com/list/software/70010000065043.html) は、Nintendo Switchのゲームです。クワガタやカブトムシを育てて戦うRPGです。2023年3月15日にリリースされました。

# なにがすごいのか

## ほぼ全ての文字を読み上げる

このゲームは、画面に表示されるほぼ全ての文字を読み上げてくれます。本当にほぼ全て読み上げます！

たとえば、最初にプレイヤーの名前を設定するのですが、カーソルが当たっている文字まで読み上げます。会話や移動先を読むのは当然。戦闘中、自分や相手のステータスも全て読み上げます。

私は全盲です。なので、ゲーム画面を見ることができないし、文字を正確に読むことも難しいです。だがしかし、「カブトクワガタ」には最初から読み上げ機能があるので、今のところプレイしている途中で困ったことが一度もありません！

これはすごいことです。私が知る限り、ゲーム中に完璧な読み上げ機能を搭載しているのは、 [The Last Of Us Part II](https://www.playstation.com/ja-jp/games/the-last-of-us-part-ii/) 、 [The Last Of Us Part I](https://www.playstation.com/ja-jp/games/the-last-of-us-part-i/) 、 そして、おそらくカブトクワガタが参考にしたであろう、 [甲虫王者ムシキング ～グレイテストチャンピオンへの道2～](http://mushiking.com/old/cs/ds/index.html) の3タイトルだけです。本当にこれだけなんです！

考えてみてほしい。この世には何千、何万、何十万というコンシューマーゲームがありますが、そのなかで、目が見えなくても操作できるレベルの読み上げ機能を搭載しているのは、これだけのタイトルしかないのです。かなり自信があります。大事なことなので何度も言いますが、これ自体がまずすごいことなのです。

読み上げ機能があって助かるのは、きっと視覚障害者だけではないと思います。たとえば、まだ字を習っていない子供や、文字を読むことに困難を抱える人などがいます。そういう人たちにとっても、このゲームはアクセシブルになっているでしょう。

※本当は、 [ゴッド・オブ・ウォー ラグナロク](https://www.playstation.com/ja-jp/games/god-of-war-ragnarok/) も読み上げ機能を搭載していますが、日本語の読み上げに対応しておらず、全てを読むわけではないので除外しています。

## 読み上げ以外にもいろいろすごい

ただ画面を全部読めばゲームが遊べるのか？そんなことはありません。

たとえば、「カブトクワガタ」には、虫に近づいて戦って倒さないといけない場面があります。最初、読み上げはついててもこれはできるのか？と半信半疑でした。ところが、ところがです。これもまったく問題ないようにできているのです！！！

虫の採集モードに入ると、十字キーまたは左スティックで移動できるようになります。虫に近づくとマーカーが点滅します。その状態で、観察したり戦いを挑んだりできます。

「カブトクワガタ」がアクセシビリティ面ですごいのは、マーカーが点滅しているときに音が鳴るようにできているということです！しかも、そこでAボタンを押したとき、いきなり戦闘に入ってしまうのではなく、今注目している虫の種類やステータスを確認できます。当然ここを読み上げます。なので、見た目で種類がわからなくても、Aボタンを押せば、戦いたい虫を選別することが可能になっているのです！！！

まだまだすごいところはあります。戦闘時、自分と相手がステレオの左右に分かれるので、どっちが出した音なのかがすぐわかります。しかも、「自分の虫は左だよ」と音声ガイドがあります！完璧すぎではないでしょうか！！！

おそらく、ムシキングを参考にした際に、読み上げ機能を含めた「だれにでも遊べる」ような機能について検討されたのでしょう。そして、最初から視覚障害者を対象としていたかどうかはわかりませんが、そういう気配りの結果が、こういうところに1つ1つ生きてきているのではないでしょうか。

ムシキングの移動パートにまったく音がなく、そこだけが思うように操作できなかったという課題を、見事にクリアしている。どっちが攻撃に打ち勝ったか、どういう相性補正が働いたか、ムシキングではわからなかったところは全てカバーされています。素晴らしいアクセシビリティ、と言うしかありません。

## 技術的にも革命を起こしている

読み上げ機能が付いていることは当然すごいです。ですが、さらに私は技術者として、もう1つの点で「カブトクワガタは革命だ」と言っています。それは、カブトクワガタは、ゲームの内部に、Nintendo Switchのアーキテクチャ上で動かせる音声合成エンジンを搭載しているということです！！！！！！！

ゲームの内容を読み上げさせようと思った場合、2つの方法があると思います。1つめは、音声を細切れで録音しておいて、状況に応じてつなぎ合わせながら再生する方法。もう一つは、音声合成エンジンを搭載し、文字データをリアルタイムで音声データに変換しながら出力する方法です。

The Last Of Us シリーズでは、前者の方法を採用していると考えられます。これは、PS4/PS5の上で動作する実用可能な音声合成エンジンがほぼなく、実装できなかったことが理由だと、出所は忘れてしまったのですがどこかで読んだことがあります。

一方、カブトクワガタでは後者の方法、つまり、音声合成エンジンを搭載して、その場で音声データを作りながら読み上げしているのです。なぜわかるかというと、会話イベント中に、入力したプレイヤーの名前が出てきたときに「こんにちは、ねこくん」のように反映して読んでいるからです。

普段技術に触れる機会があまりない人だと、この違いがどれだけすごいのか、ピンとこないということもあるかもしれません。でも、これは、だれがなんと言おうと、すごいことなのです！！！

音声を録音しておく方法は、実装する際に膨大な工数がかかり、それに伴って開発コストが増大します。録音しないといけないし、編集しないといけないし、必要なものをつなぎ合わせるロジックを実装しないといけないからです。しかも、ゲームに出てくる文字列が全部固定ならいいですが、そうでない場合、対応できないケースが出てきます。プレイヤー名の入力だったり、強化や合成によって何通りも組み合わせが考えられるような要素があると、全てのパターンを録音しているのでは切りがないという状況が必ず発生してしまいます。

一方、音声合成エンジンを搭載してしまえば、上に書いたようなほとんどの工数をまるごとカットできます。文字をそのまま送ってあげればもうその場で音声が返ってくるわけですから。

貴方が開発者だったとしたら、面倒が多いうえに限界がある方法と、面倒が少ないうえに限界がない方法、どっちにしたいですか？当然後者ですよね？

ただ、これはこれで大きな技術的な壁があるのです。音声合成エンジンのプログラムは、ゲーム機に組み込んで使えるものがほとんど存在しないか、情報が公開されていません。CPUの構成の違いによって、ゲーム機専用にビルドする必要がありますが、需要が少ないためか、技術選定が非常に困難です。実際、この部分でソリューションを見いだせなかったNaughty Dogは、The Last Of Us シリーズの読み上げ機能を搭載する際に、全ての音声を事前に録音しておく方法を選択せざるを得なかったと考えられます。

それで、ようやく「なにがすごいのか？」の話に戻ります。「カブトクワガタ」は紛れもなく、Switchのアーキテクチャのうえで音声合成エンジンを動かすことに成功しています。しかも、実用に耐えるパフォーマンスで。

これはどういうことかというと、実例ができたということです。仮に、ほかのSwitch製ゲームが音声読み上げの機能を搭載したいと考えた場合、まずその技術選定から入る必要があります。正直、ここが一番難しいところだと思っていました。場合によってはこのフェーズで頓挫しかねないと。ところが、「カブトクワガタ」の実例があることで、できないわけがなくなったのです。前例があるのですから。しかも、「カブトクワガタ」は莫大な開発予算を持っていたゲームというわけではありませんから、ある程度の低予算で実現できるのだということも間接的に示してくれています。大きな知見です。

この流れで、ほかのSwitch製ゲームにも音声よい上げが広がる材料になってくれたらいいと思っています。これを、革命以外のなんと言えばいいのでしょうか！

※Naughty Dogの事例では、複数の言語に対応する必要があったため、それら全てをサポートする音声合成エンジンが必要だったという意味で、技術的な難易度もさらに跳ね上がっていたと考えられます。

※Switch製ゲームで音声合成エンジンを搭載しているものはほかにもあるようです。記事公開後に教えていただきました。最後に記載します。

# この事実は広まってほしい

ネットでは、読み上げ機能は「ゆっくり実況」的なのりで、低予算ゲームのネタみたいな扱いをされていますが、私から言わせればそれ以上の価値があります。何度も繰り返しますが、ここまで高いレベルのアクセシビリティを確保したことと、技術的にSwitch上での音声合成の前例を作ったことが理由です。

このゲームを開発した方々が、企画段階でどのあたりまで狙っていたのかはわかりません。わかりませんが、結果としてこれは私の中で革命を起こしました。なので、まずは開発者のだれかにこのことをちゃんとお伝えしたいと強く思っています。そして、仰々しいですが、日本のゲームのアクセシビリティの先駆者として、関係者・ゲーム開発者・ゲーマーのあいだで知名度を得てほしいです。なので、全力でバズらせてほしいです！お願いします！

# 注意書き ( 2023/07/27 更新済み)

2023/07/27 時点で、カブトクワガタは画面を見ずにオールクリア可能であることが確認されました。

リリース時点では、全盲プレイするにあたり、以下のような小さい問題が発生していました。プレイに大きく影響することはありませんでしたが、画面を見ている場合と体験が異なっていました。これらの問題はすでに修正されていますが、歴史を残すために削除せずに記載してあります。修正してくださった開発チームの皆様に感謝いたします。

- 餌を買うとき、購入金額や売却金額を読み上げませんでした。「買う」を選択したときに所持金を読み上げるのを利用して、餌の値段を計算するしかありませんでした。修正後は、商品名の後に値段を読み上げるようになりました。
- 画面が見えている場合、戦闘時のルーレットは目押しができますが、画面を見ていない場合はできませんでした。読み上げないのは、逆にそのほうがいいとして、数値による音程の変化などもないため、完全に運任せで止めることになっていました。なので、ステータスを高めて、大きい攻撃力が出る確率を上げる必要があり、若干不利でした。修正後は、最大値が出たときの音が変化するようになりました。
- 回っているルーレットの数字がフィードバックされていなかったので、ルーレットを遅くする技には意味がありませんでした。修正後は、最大値で音が変化するようになり、ルーレットが遅くて有利になるという点で、画面を見ている場合と同様のアドバンテージを得られるようになりました。
- 戦闘を行う前に、相手の虫の性格を確認することができませんでした。アイコン表示のみで読み上げがなかったためです。修正後は、戦闘前のステータス画面で、相手の虫の性格も読み上げるようになりました。

# なんかあったら連絡ください

記事への反応、質問、訂正、情報提供などは、 [私のTwitter](https://twitter.com/nyanchan2013) に送っていただけると大変喜びます。これで関係者のだれかがメッセージとかくれたら、感動に打ち震えちゃうね。ていうか、色々あって、感動に打ち震えちゃったね。

# 記事公開後に教えてもらった情報

## 音声合成エンジンを搭載したSwitch製ゲーム

Switch製ゲームで、音声合成エンジンを内部に持つタイトルは、カブトクワガタ以外にもあるそうです。その1つが [ネコ・トモ](https://nekotomo.bn-ent.net/sp/difference/talk.php) というものらしいです。猫じゃん。普通にめっちゃ気になる。猫猫猫。このタイトルでは、東芝のToSpeakという音声合成ミドルウェアを使っているらしいです。そして、 [ToSpeakの公式サイト](https://www.global.toshiba/jp/products-solutions/ai-iot/recaius/lineup/tospeak.html) には、ゲーム機にも搭載できると書いてある。グッジョブすぎる。C APIによる実装とのことなので、おそらく多くの感興でコンパイルできるということなのでしょう。が、どうやらあとからわかった情報によると、カブトクワガタは東芝じゃないらしい。

[教えてもらったツイート](https://twitter.com/savedblog/status/1637773916461727744)

## カブトクワガタはHOYA製音声エンジンらしい

どうやらそのようです。VoiceTextなどが有名ですが、Switchでも動くものが存在していたとは。15年ぐらい前のVoiceTextは非常に動作が重かったのですが、今の時代、Switchのような小型ゲーム機に搭載してもあんなパフォーマンスが出るのですねぇ。すごいことだ。教えてくれた方は、どうやら開発をされた方みたいです。私の目的がたった数時間で達成されちゃった。感動です。さすがTwitterです。

[教えてもらったツイート](https://twitter.com/ULTRA_HIROSHI/status/1637796017281318912)

## 後日談: このブログで言及していた問題が全部治ってた

2023/07/27 に久しぶりに起動したら、ブログや [動画](https://www.youtube.com/watch?v=WlRLN0kmK7A) で言及していたアクセシビリティ上の問題が全部治ってました。

ルーレットは最大値を耳押しできるようになってたし、餌を買うときに値段を読むようになってたし、戦闘前に性格を読むようになってました。ありがとうございますありがとうございます！

これで、オールクリアする際のアクセシビリティ上の問題はなくなったので、注意書きのところも加筆しました。
